<!DOCTYPE html>
<meta charset="utf-8">
<title>Bar Chart Race</title>
<link rel="stylesheet" type="text/css" href="./inspector.css">
<body>
<!-- sas viya -->
<script src="https://sassoftware.github.io/sas-visualanalytics-thirdpartyvisualizations/lib/messagingUtil.js">
</script>
  
<script type="module">

import define from "./index.js";
import {Runtime, Library, Inspector} from "./runtime.js";

const runtime = new Runtime();
      // 啟動模組，只渲染 chart 這個 cell
const main = runtime.module(define, (name) => {
    if (name === "chart") return new Inspector(document.querySelector("#chart"));
  });

      // 📌 這裡替代 notebook 原本的 CSV 載入，從 Viya 傳入資料
va.messagingUtil.setOnDataReceivedCallback(function (message) {
  const sasData = message.data;

    main.redefine("data", sasData);
 });



</script>
